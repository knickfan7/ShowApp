{"ast":null,"code":"import axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nclass WatchListAPI {\n  static async retrieveAll(callback) {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const value = await AsyncStorage.getItem(\"@token\");\n\n      if (value !== null) {\n        config.headers[\"Authorization\"] = \"Token \" + value;\n      }\n    } catch (e) {}\n\n    try {\n      await axios.get(\"http://127.0.0.1:8000/api/user/watchlists/\", config).then(res => {\n        callback(res);\n      });\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  static async addShow(id, type, status, rating, comments, callback) {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const value = await AsyncStorage.getItem(\"@token\");\n\n      if (value !== null) {\n        config.headers[\"Authorization\"] = \"Token \" + value;\n      }\n    } catch (e) {}\n\n    const body = JSON.stringify({\n      id,\n      title,\n      type,\n      img\n    });\n\n    try {\n      await axios.post(\"http://127.0.0.1:8000/api/add/show/\", body, config).then(res => {\n        callback(res);\n      });\n    } catch (e) {}\n  }\n\n}\n\nexport default WatchListAPI;","map":{"version":3,"sources":["D:/Github/ShowApp/frontend/src/api/watchlistapi.tsx"],"names":["axios","AsyncStorage","WatchListAPI","retrieveAll","callback","config","headers","value","getItem","e","get","then","res","error","console","log","response","addShow","id","type","status","rating","comments","body","JSON","stringify","title","img","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;;AAEA,MAAMC,YAAN,CAAmB;AACO,eAAXC,WAAW,CAACC,QAAD,EAAW;AACjC,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;;AAKA,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAApB;;AACA,UAAID,KAAK,KAAK,IAAd,EAAoB;AAClBF,QAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAkC,WAAWC,KAA7C;AACD;AACF,KALD,CAKE,OAAOE,CAAP,EAAU,CAAE;;AACd,QAAI;AACF,YAAMT,KAAK,CACRU,GADG,CACC,4CADD,EAC+CL,MAD/C,EAEHM,IAFG,CAEGC,GAAD,IAAS;AACbR,QAAAA,QAAQ,CAACQ,GAAD,CAAR;AACD,OAJG,CAAN;AAKD,KAND,CAME,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACD;AACF;;AAEmB,eAAPC,OAAO,CAACC,EAAD,EAAKC,IAAL,EAAWC,MAAX,EAAmBC,MAAnB,EAA2BC,QAA3B,EAAqClB,QAArC,EAA+C;AACjE,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;;AAKA,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAApB;;AACA,UAAID,KAAK,KAAK,IAAd,EAAoB;AAClBF,QAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAkC,WAAWC,KAA7C;AACD;AACF,KALD,CAKE,OAAOE,CAAP,EAAU,CAAE;;AAEd,UAAMc,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,EAAF;AAAMQ,MAAAA,KAAN;AAAaP,MAAAA,IAAb;AAAmBQ,MAAAA;AAAnB,KAAf,CAAb;;AAEA,QAAI;AACF,YAAM3B,KAAK,CACR4B,IADG,CACE,qCADF,EACwCL,IADxC,EAC+ClB,MAD/C,EAEHM,IAFG,CAEGC,GAAD,IAAS;AACbR,QAAAA,QAAQ,CAACQ,GAAD,CAAR;AACD,OAJG,CAAN;AAKD,KAND,CAME,OAAOH,CAAP,EAAU,CAAE;AACf;;AA9CgB;;AAiDnB,eAAeP,YAAf","sourcesContent":["import axios from \"axios\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nclass WatchListAPI {\r\n  static async retrieveAll(callback) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    try {\r\n      const value = await AsyncStorage.getItem(\"@token\");\r\n      if (value !== null) {\r\n        config.headers[\"Authorization\"] = \"Token \" + value;\r\n      }\r\n    } catch (e) {}\r\n    try {\r\n      await axios\r\n        .get(\"http://127.0.0.1:8000/api/user/watchlists/\", config)\r\n        .then((res) => {\r\n          callback(res);\r\n        });\r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  static async addShow(id, type, status, rating, comments, callback) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    try {\r\n      const value = await AsyncStorage.getItem(\"@token\");\r\n      if (value !== null) {\r\n        config.headers[\"Authorization\"] = \"Token \" + value;\r\n      }\r\n    } catch (e) {}\r\n\r\n    const body = JSON.stringify({ id, title, type, img });\r\n\r\n    try {\r\n      await axios\r\n        .post(\"http://127.0.0.1:8000/api/add/show/\",body,  config)\r\n        .then((res) => {\r\n          callback(res);\r\n        });\r\n    } catch (e) {}\r\n  }\r\n}\r\n\r\nexport default WatchListAPI;\r\n"]},"metadata":{},"sourceType":"module"}