{"ast":null,"code":"import axios from \"axios\";\n\nclass UserAPI {\n  static async login(username, password) {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify({\n      username,\n      password\n    });\n\n    try {\n      await axios.post(\"http://127.0.0.1:8000/api/auth/logins/\", body, config).then(res => {\n        console.log(res.data);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n}\n\nUserAPI.tokenConfig = state => {\n  const token = state().auth.token;\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  if (token) {\n    config.headers[\"Authorization\"] = `Token ${token}`;\n  }\n\n  return config;\n};\n\nexport default UserAPI;","map":{"version":3,"sources":["D:/Github/ShowApp/frontend/src/api/userapi.tsx"],"names":["axios","UserAPI","login","username","password","config","headers","body","JSON","stringify","post","then","res","console","log","data","error","tokenConfig","state","token","auth"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,CAAc;AACM,eAALC,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqB;AACrC,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEN,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf,CAAb;;AACA,QAAI;AACF,YAAMJ,KAAK,CACRU,IADG,CACE,wCADF,EAC4CH,IAD5C,EACkDF,MADlD,EAEHM,IAFG,CAEGC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACD,OAJG,CAAN;AAKD,KAND,CAME,OAAOC,KAAP,EAAc;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF;;AAlBW;;AAARf,O,CAoBGgB,W,GAAeC,KAAD,IAAW;AAC9B,QAAMC,KAAK,GAAGD,KAAK,GAAGE,IAAR,CAAaD,KAA3B;AAEA,QAAMd,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADI,GAAf;;AAMA,MAAIa,KAAJ,EAAW;AACTd,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAmC,SAAQa,KAAM,EAAjD;AACD;;AACD,SAAOd,MAAP;AACD,C;;AAGH,eAAeJ,OAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nclass UserAPI {\r\n  static async login(username, password) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const body = JSON.stringify({ username, password });\r\n    try {\r\n      await axios\r\n        .post(\"http://127.0.0.1:8000/api/auth/logins/\", body, config)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  static tokenConfig = (state) => {\r\n    const token = state().auth.token;\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    if (token) {\r\n      config.headers[\"Authorization\"] = `Token ${token}`;\r\n    }\r\n    return config;\r\n  };\r\n}\r\n\r\nexport default UserAPI;\r\n"]},"metadata":{},"sourceType":"module"}